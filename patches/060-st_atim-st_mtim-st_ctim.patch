From 325dd233cd2d7d8f60c9a919b4ec52b01a822f20 Mon Sep 17 00:00:00 2001
From: Re4son <3520622-re4son@users.noreply.gitlab.com>
Date: Mon, 28 Dec 2020 10:24:37 +1100
Subject: [PATCH] st_atim-st_mtim-st_ctim

Signed-off-by: Re4son <3520622-re4son@users.noreply.gitlab.com>
---
 coreutils/stat.c | 12 ++++++++++++
 1 file changed, 12 insertions(+)

diff --git a/coreutils/stat.c b/coreutils/stat.c
index fa9ac7b10..63fa794a8 100644
--- a/coreutils/stat.c
+++ b/coreutils/stat.c
@@ -380,19 +380,31 @@ static void FAST_FUNC print_stat(char *pformat, const char m,
 		strcat(pformat, "lu");
 		printf(pformat, (unsigned long) statbuf->st_blksize);
 	} else if (m == 'x') {
+        #if defined(ANDROID) || defined(__ANDROID__)
+		printfs(pformat, human_time(&statbuf->st_atime));
+        #else
 		printfs(pformat, human_time(&statbuf->st_atim));
+        #endif
 	} else if (m == 'X') {
 		strcat(pformat, TYPE_SIGNED(time_t) ? "ld" : "lu");
 		/* note: (unsigned long) would be wrong:
 		 * imagine (unsigned long64)int32 */
 		printf(pformat, (long) statbuf->st_atime);
 	} else if (m == 'y') {
+        #if defined(ANDROID) || defined(__ANDROID__)
+		printfs(pformat, human_time(&statbuf->st_mtime));
+        #else
 		printfs(pformat, human_time(&statbuf->st_mtim));
+        #endif
 	} else if (m == 'Y') {
 		strcat(pformat, TYPE_SIGNED(time_t) ? "ld" : "lu");
 		printf(pformat, (long) statbuf->st_mtime);
 	} else if (m == 'z') {
+        #if defined(ANDROID) || defined(__ANDROID__)
+		printfs(pformat, human_time(&statbuf->st_ctime));
+        #else
 		printfs(pformat, human_time(&statbuf->st_ctim));
+        #endif
 	} else if (m == 'Z') {
 		strcat(pformat, TYPE_SIGNED(time_t) ? "ld" : "lu");
 		printf(pformat, (long) statbuf->st_ctime);
-- 
2.29.2

